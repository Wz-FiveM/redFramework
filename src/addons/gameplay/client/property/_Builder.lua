_PropertyConfigurations = {
    type_property = {
        ["Maison"] = {
            name = "Maison Luxe",
            posIn = vector3(-77.79, -829.82, 243.39),
            posChest = vector3(-79.0, -805.81, 243.39),
            posConfig = vector3(-80.71, -802.18, 243.4),
            defaultWeight = 200,
            price = 10000,
        },
        ["Appartement 3 étages"] = {
            name = "Appartement 3 étages",
            posIn = vec3(-1003.186829, -774.382446, 61.884277),
            posChest = vec3(-1014.738464, -758.215393, 70.477661),
            posConfig = vec3(-1007.314270, -749.578003, 65.692261),
            defaultWeight = 1000,
            price = 500000,
        },
        ["Entrepot Petit"] = {
            name = "Entrepôt Petit",
            posIn = vector3(1087.609, -3099.363, -39.01245),
            posChest = vector3(1088.769, -3096.857, -39.01245),
            posConfig = vector3(1088.426, -3101.327, -39.01245),
            defaultWeight = 400,
            price = 15000,
        },
        ["Entrepot Moyen"] = {
            name = "Entrepôt Moyen",
            posIn = vector3(1048.246, -3097.147, -39.01245),
            posChest = vector3(1049.763, -3105.323, -39.01245),
            posConfig = vector3(1049.051, -3100.629, -39.01245),
            defaultWeight = 600,
            price = 20000,
        },
        ["Entrepot Grand"] = {
            name = "Entrepôt Grand",
            posIn = vector3(992.6374, -3097.873, -39.01245),
            posChest = vector3(998.967, -3095.842, -39.01245),
            posConfig = vector3(994.6022, -3100.233, -39.01245),
            defaultWeight = 1000,
            price = 30000,
        },
        ["Local"] = {
            name = "Local",
            posIn = vector3(1173.508, -3196.615, -39.01245),
            posChest = vector3(1164.013, -3199.055, -39.01245),
            posConfig = vector3(1157.367, -3198.356, -39.01245),
            defaultWeight = 200,
            price = 5000,
        },
        ["Vespucci 3 Etages"] = {
            name = "Vespucci 3 Etages",
            posIn = vector3(-576.3, -715.7, 113),
            posChest = vector3(-589.4, -716.3, 116.8),
            posConfig = vector3(-599.2, -719.4, 117.6),
            defaultWeight = 200,
            price = 40000,
        },
        ["Studio"] = {
            name = "Studio",
            posIn = vector3(-1021.7, -91.8, -99.4),
            posChest = vector3(-1000.4, -76.6, -99),
            posConfig = vector3(-1016.9, -83.7, -99.4),
            defaultWeight = 200,
            price = 100000,
        },
        ["Bureau Vespucci Blanc"] = {
            name = "Bureau Vespucci Blanc",
            posIn = vector3(-1395.3, -479.6, 72),
            posChest = vector3(-1375.3, -467.6, 72),
            posConfig = vector3(-1373.5, -464.3, 72),
            defaultWeight = 200,
            price = 40000,
        },
        ["Vinewood Hills 1"] = {
            name = "Vinewood Hills 1",
            posIn = vector3(117.2, 559.9, 184.3),
            posChest = vector3(119.1, 567.4, 176.7),
            posConfig = vector3(118.1, 567.3, 176.7),
            defaultWeight = 200,
            price = 40000,
        },
        ["Centre Vinewood 1"] = {
            name = "Centre Vinewood 1",
            posIn = vector3(341.4, 437.2, 149.4),
            posChest = vector3(336.9, 436.4, 141.8),
            posConfig = vector3(336.2, 434.4, 141.8),
            defaultWeight = 200,
            price = 40000,
        },
        ["Ammunation"] = {
            name = "Ammunation",
            posIn = vector3(811.9, -2149.7, 29.6),
            posChest = vector3(813.9, -2159.1, 29.6),
            posConfig = vector3(808.9, -2159.3, 29.6),
            defaultWeight = 200,
            price = 40000,
        },
    },
    type_of_weight = {
        ["100"] = 1000,
        ["200"] = 2000,
        ["300"] = 3000,
        ["400"] = 4000,
        ["500"] = 5000,
        ["600"] = 6000,
        ["700"] = 7000,
        ["800"] = 8000,
        ["900"] = 9000,
        ["1000"] = 10000,
    },

    garagesLists = {
        ["2place"] = {
            Entering = vector3(179.19, -1000.64, -99.0),
            Menu = vector3(172.93, -1000.46, -99.99),
            CarSpots = {
                {Pos = vector3(175.21, -1003.91, -99.99), Heading = 187.08660888672},
                {Pos = vector3(170.80, -1004.23, -99.99), Heading = 187.08660888672}
            }
        },
        ["4place"] = {
            Entering = vector3(207.09, -1018.3, -99.0),
            Menu = vector3(205.356, -1014.88, -99.99),
            CarSpots = {
                {Pos = vector3(194.50, -1016.14, -99.99), Heading = 180.13},
                {Pos = vector3(194.57, -1022.32, -99.99), Heading = 180.13},
                {Pos = vector3(202.21, -1020.14, -99.99), Heading = 90.13},
                {Pos = vector3(202.21, -1023.32, -99.99), Heading = 90.13}
            }
        },
        ["6place"] = {
            Entering = vector3(206.89, -999.21, -99.0),
            Menu = vector3(205.186, -995.41, -99.99),
            CarSpots = {
                {Pos = vector3(203.82, -1004.63, -99.99), Heading = 88.05},
                {Pos = vector3(194.16, -1004.63, -99.99), Heading = 266.42},
                {Pos = vector3(193.83, -1000.63, -99.99), Heading = 266.42},
                {Pos = vector3(202.62, -1000.63, -99.99), Heading = 88.05},
                {Pos = vector3(193.83, -997.01, -99.99), Heading = 266.42},
                {Pos = vector3(202.62, -997.01, -99.99), Heading = 88.05},
            }
        },
        ["10place"] = {
            Entering = vector3(237.42, -1004.60, -99.0),
            Menu = vector3(228.872, -976.85, -100.0),
            CarSpots = {
                {Pos = vector3(233.47, -982.57, -99.99), Heading = 90.1},
                {Pos = vector3(233.47, -987.57, -99.99), Heading = 90.1},
                {Pos = vector3(233.47, -992.57, -99.99), Heading = 90.1},
                {Pos = vector3(233.47, -997.57, -99.99), Heading = 90.1},
                {Pos = vector3(233.47, -1002.57, -99.99), Heading = 90.1},
                {Pos = vector3(223.55, -982.57, -99.99), Heading = 266.36},
                {Pos = vector3(223.55, -987.57, -99.99), Heading = 266.36},
                {Pos = vector3(223.55, -992.57, -99.99), Heading = 266.36},
                {Pos = vector3(223.55, -997.57, -99.99), Heading = 266.36},
                {Pos = vector3(223.55, -1002.57, -99.99), Heading = 266.36},
            }
        },
        ["12place"] = {
            Entering = vector3(-1521.28, -2978.54, -80.30),
            Menu = vector3(-1498.1, -2983.77, -83.21),
            CarSpots = {
                {Pos = vector3(-1517.83, -2988.32, -83.28), Heading = 181.3},
                {Pos = vector3(-1513.63, -2988.22, -83.28), Heading = 181.3},
                {Pos = vector3(-1509.41, -2988.12, -83.28), Heading = 181.3},
                {Pos = vector3(-1505.19, -2988.02, -83.28), Heading = 181.3},
                {Pos = vector3(-1501.11, -2987.92, -83.28), Heading = 181.3},
                {Pos = vector3(-1496.78, -2987.82, -83.28), Heading = 181.3},

                {Pos = vector3(-1517.76, -2998.04, -83.28), Heading = 0.25},
                {Pos = vector3(-1513.29, -2998.12, -83.28), Heading = 0.25},
                {Pos = vector3(-1509.16, -2998.01, -83.28), Heading = 0.25},
                {Pos = vector3(-1504.98, -2998.06, -83.28), Heading = 0.25},
                {Pos = vector3(-1500.85, -2998.12, -83.28), Heading = 0.25},
                {Pos = vector3(-1496.9, -2998.05, -83.28), Heading = 0.25},
            }
        },
        ["24place"] = {
            Entering = vector3(-198.34, -580.75, 136.0),
            Menu = vector3(-190.57, -587.84, 135.0),
            CarSpots = {
                {Pos = vector3(-172.97, -585.00, 135.0), Heading = 68.51},
                {Pos = vector3(-171.99, -580.76, 135.00), Heading = 100.95},
                {Pos = vector3(-173.57, -576.31, 135.00), Heading = 130.0},
                {Pos = vector3(-177.32, -573.38, 135.00), Heading = 146.0},
                {Pos = vector3(-182.33, -571.89, 135.00), Heading = 186.0},
                {Pos = vector3(-187.22, -573.04, 135.00), Heading = 224.0},
                {Pos = vector3(-192.84, -572.55, 135.00), Heading = 224.0},
                {Pos = vector3(-194.93, -575.80, 135.00), Heading = 224.0},

                {Pos = vector3(-172.97, -585.00, 140.34), Heading = 68.51},
                {Pos = vector3(-171.99, -580.76, 140.34), Heading = 100.95},
                {Pos = vector3(-173.57, -576.31, 140.34), Heading = 130.0},
                {Pos = vector3(-177.32, -573.38, 140.34), Heading = 146.0},
                {Pos = vector3(-182.33, -571.89, 140.34), Heading = 186.0},
                {Pos = vector3(-187.22, -573.04, 140.34), Heading = 224.0},
                {Pos = vector3(-192.84, -572.55, 140.34), Heading = 224.0},
                {Pos = vector3(-194.93, -575.80, 140.34), Heading = 224.0},

                {Pos = vector3(-172.97, -585.00, 145.69), Heading = 68.51},
                {Pos = vector3(-171.99, -580.76, 145.69), Heading = 100.95},
                {Pos = vector3(-173.57, -576.31, 145.69), Heading = 130.0},
                {Pos = vector3(-177.32, -573.38, 145.69), Heading = 146.0},
                {Pos = vector3(-182.33, -571.89, 145.69), Heading = 186.0},
                {Pos = vector3(-187.22, -573.04, 145.69), Heading = 224.0},
                {Pos = vector3(-192.84, -572.55, 145.69), Heading = 224.0},
                {Pos = vector3(-194.93, -575.80, 145.69), Heading = 224.0},
            }
        },
        ["11place"] = {
            Entering = vector3(-1266.95, -3048.98, -48.49),
            Menu = vector3(-1267.51, -3041.46, -49.55),
            CarSpots = {
                {Pos = vector3(-1274.53, -2970.56, -48.13), Heading = 182.00},
                {Pos = vector3(-1274.4, -2988.09, -48.13), Heading = 182.00},
                {Pos = vector3(-1274.5, -3004.11, -48.13), Heading = 182.00},
                {Pos = vector3(-1274.39, -3023.28, -48.13), Heading = 182.00},
                {Pos = vector3(-1274.5, -3041.12, -48.13), Heading = 182.00},

                {Pos = vector3(-1258.54, -2970.65, -48.13), Heading = 182.00},
                {Pos = vector3(-1258.49, -2988.28, -48.13), Heading = 182.00},
                {Pos = vector3(-1258.62, -3004.68, -48.13), Heading = 182.00},
                {Pos = vector3(-1258.66, -3023.63, -48.13), Heading = 182.00},
                {Pos = vector3(-1258.75, -3041.91, -48.13), Heading = 182.00},


                {Pos = vector3(-1266.92, -3011.63, -48.13), Heading = 182.00},


            }
        },
        ["94place"] = {
            Entering = vector3(-1549.42, -560.42, 25.84),
            Menu = vector3(-1542.53, -569.79, 24.707),
            CarSpots = {
                {Pos = vector3(-1558.28, -572.902, 24.707), Heading = 211.484},
                {Pos = vector3(-1555.39, -571.172, 24.707), Heading = 211.484},
                {Pos = vector3(-1560.98, -574.835, 24.707), Heading = 211.484},
                {Pos = vector3(-1563.72, -576.535, 24.707), Heading = 211.484},
                {Pos = vector3(-1566.42, -578.856, 24.707), Heading = 211.484},
                {Pos = vector3(-1553.05, -569.434, 24.707), Heading = 211.484},
                {Pos = vector3(-1543.644, -582.900, 24.707), Heading = 31.484},
                {Pos = vector3(-1546.380, -584.521, 24.707), Heading = 31.484},
                {Pos = vector3(-1549.098, -586.284, 24.707), Heading = 31.484},
                {Pos = vector3(-1552.107, -588.058, 24.707), Heading = 31.484},
                {Pos = vector3(-1554.589, -589.784, 24.707), Heading = 31.484},
                {Pos = vector3(-1557.511, -591.761, 24.707), Heading = 31.484},


                {Pos = vector3(-1495.379, -573.273, 22.27), Heading = 31.484},
                {Pos = vector3(-1497.975, -575.175, 22.27), Heading = 31.484},
                {Pos = vector3(-1500.678, -576.930, 22.27), Heading = 31.484},
                {Pos = vector3(-1503.407, -578.694, 22.27), Heading = 31.484},
                {Pos = vector3(-1506.199, -580.409, 22.27), Heading = 31.484},
                {Pos = vector3(-1508.793, -582.200, 22.27), Heading = 31.484},
                {Pos = vector3(-1492.654, -571.868, 22.27), Heading = 31.484},
                {Pos = vector3(-1489.086, -576.938, 22.27), Heading = 211.484},
                {Pos = vector3(-1492.259, -578.319, 22.27), Heading = 211.484},
                {Pos = vector3(-1494.912, -580.075, 22.27), Heading = 211.484},
                {Pos = vector3(-1497.478, -582.210, 22.27), Heading = 211.484},
                {Pos = vector3(-1500.149, -583.902, 22.27), Heading = 211.484},
                {Pos = vector3(-1502.833, -585.592, 22.27), Heading = 211.484},
                {Pos = vector3(-1505.648, -587.374, 22.27), Heading = 211.484},

                {Pos = vector3(-1539.73, -560.712, 24.707), Heading = 211.484},
                {Pos = vector3(-1537.05, -558.632, 24.707), Heading = 211.484},
                {Pos = vector3(-1534.211, -556.82, 24.707), Heading = 211.484},
                {Pos = vector3(-1531.49, -555.078, 24.707), Heading = 211.484},
                {Pos = vector3(-1528.82, -553.146, 24.707), Heading = 211.484},
                {Pos = vector3(-1526.279, -551.442, 24.707), Heading = 211.484},
                {Pos = vector3(-1523.608, -549.652, 24.707), Heading = 211.484},
                {Pos = vector3(-1520.782, -547.71, 24.707), Heading = 211.484},
                {Pos = vector3(-1518.058, -546.175, 24.707), Heading = 211.484},
                {Pos = vector3(-1515.500, -544.257, 24.707), Heading = 211.484},
                {Pos = vector3(-1512.694, -542.324, 24.707), Heading = 211.484},

                {Pos = vector3(-1503.421, -555.42, 24.707), Heading = 31.484},
                {Pos = vector3(-1505.929, -557.57, 24.707), Heading = 31.484},
                {Pos = vector3(-1508.676, -559.159, 24.707), Heading = 31.484},
                {Pos = vector3(-1511.429, -561.192, 24.707), Heading = 31.484},
                {Pos = vector3(-1513.924, -562.679, 24.707), Heading = 31.484},
                {Pos = vector3(-1516.752, -564.751, 24.707), Heading = 31.484},
                {Pos = vector3(-1519.494, -566.642, 24.707), Heading = 31.484},
                {Pos = vector3(-1521.868, -568.614, 24.707), Heading = 31.484},



                {Pos = vector3(-1473.923, -581.673, 22.274), Heading = 34.993},
                {Pos = vector3(-1476.425, -583.302, 22.274), Heading = 34.993},
                {Pos = vector3(-1479.394, -584.936, 22.274), Heading = 34.993},
                {Pos = vector3(-1481.942, -587.080, 22.274), Heading = 34.993},
                {Pos = vector3(-1484.585, -588.922, 22.274), Heading = 34.993},
                {Pos = vector3(-1487.092, -590.931, 22.274), Heading = 34.993},
                {Pos = vector3(-1489.768, -592.825, 22.274), Heading = 34.993},
                {Pos = vector3(-1492.397, -594.534, 22.274), Heading = 34.993},
                {Pos = vector3(-1494.910, -596.414, 22.274), Heading = 34.993},
                {Pos = vector3(-1497.757, -598.196, 22.274), Heading = 34.993},
                {Pos = vector3(-1500.419, -600.151, 22.274), Heading = 34.993},
                {Pos = vector3(-1503.114, -601.824, 22.274), Heading = 34.993},



                {Pos = vector3(-1508.07, -602.71, 22.270), Heading = 0.484},
                {Pos = vector3(-1511.35, -602.77, 22.270), Heading = 0.484},
                {Pos = vector3(-1514.55, -602.61, 22.270), Heading = 0.484},
                {Pos = vector3(-1517.93, -602.63, 22.270), Heading = 0.484},
                {Pos = vector3(-1521.00, -602.61, 22.270), Heading = 0.484},
                {Pos = vector3(-1524.26, -602.26, 22.270), Heading = 0.484},
                {Pos = vector3(-1527.38, -601.91, 22.270), Heading = 0.484},


                {Pos = vector3(-1502.378, -563.135, 22.274), Heading = 213.993},
                {Pos = vector3(-1499.726, -561.135, 22.274), Heading = 213.993},
                {Pos = vector3(-1497.084, -559.345, 22.274), Heading = 213.993},
                {Pos = vector3(-1494.317, -557.518, 22.274), Heading = 213.993},
                {Pos = vector3(-1491.410, -555.569, 22.274), Heading = 213.993},

                {Pos = vector3(-1515.681, -572.466, 22.274), Heading = 213.993},
                {Pos = vector3(-1512.952, -570.534, 22.274), Heading = 213.993},
                {Pos = vector3(-1510.244, -568.541, 22.274), Heading = 213.993},
                {Pos = vector3(-1507.650, -566.716, 22.274), Heading = 213.993},
                {Pos = vector3(-1505.042, -564.882, 22.274), Heading = 213.993},

                {Pos = vector3(-1509.62, -588.429, 22.274), Heading = 123.805},
                {Pos = vector3(-1511.71, -586.161, 22.274), Heading = 123.805},
                {Pos = vector3(-1488.15, -572.638, 22.274), Heading = 33.993},

                {Pos = vector3(-1531.60, -583.856, 22.274), Heading = 211.484},
                {Pos = vector3(-1534.48, -584.899, 22.274), Heading = 211.484},
                {Pos = vector3(-1537.45, -586.728, 22.274), Heading = 211.484},
                {Pos = vector3(-1539.95, -588.758, 22.274), Heading = 211.484},
                {Pos = vector3(-1542.41, -590.639, 22.274), Heading = 211.484},
                {Pos = vector3(-1545.20, -592.247, 22.274), Heading = 211.484},
                {Pos = vector3(-1548.14, -594.021, 22.274), Heading = 211.484},
                {Pos = vector3(-1550.77, -595.663, 22.274), Heading = 211.484},
                {Pos = vector3(-1553.58, -597.476, 22.274), Heading = 211.484},
                {Pos = vector3(-1556.17, -599.360, 22.274), Heading = 211.484},
                {Pos = vector3(-1559.13, -600.814, 22.274), Heading = 211.484},
                {Pos = vector3(-1561.71, -602.707, 22.274), Heading = 211.484},

                {Pos = vector3(-1547.42, -624.48, 22.270), Heading = 354.484},
                {Pos = vector3(-1553.922, -623.972, 22.270), Heading = 354.484},
                {Pos = vector3(-1560.566, -623.307, 22.270), Heading = 354.484},
                {Pos = vector3(-1550.723, -625.264, 22.270), Heading = 354.484},
                {Pos = vector3(-1557.239, -624.793, 22.270), Heading = 354.484},
            }
        },
    }
}

local active = false
local mainMenu <const> = RageUI.CreateMenu("Immobilier", "Main Menu")
mainMenu.Closed = function()
    active = false
end
local subPropertyBuilder <const> = RageUI.CreateSubMenu(mainMenu, "Immobilier", "Création de propriétée")
local subMenu <const> = RageUI.CreateSubMenu(subPropertyBuilder, "Immobilier", "Je sais pas")
local subPropertyEditor <const> = RageUI.CreateSubMenu(mainMenu, "Immobilier", "Liste des propriétées")
local subClientEditor <const> = RageUI.CreateSubMenu(mainMenu, "Immobilier", "Liste des clients")
local actionProperty = RageUI.CreateSubMenu(subPropertyEditor, "Immobilier", "Je sais pas")
local seeProperty = false
local activeGarage = false
local PropertyData = {
    name = "",
    pPos = "",
    pGarage = "",
    type_property = {
        index = 1,
    },
    places = 0,
    pPosValide = "Non Valide",
    indexGarage = 1,
    pPosGarage = '',
}
local propertylist = {}


local function showF6Menu()
    if (active) then
        return
    end
    active = true
    RedFW.Client.Components.Callback:triggerServer("getProperty", function(data) propertylist = data end)
    RageUI.Visible(mainMenu, true)
    CreateThread(function()
        while (active) do
            RageUI.IsVisible(mainMenu, function()
                RageUI.Button("Créer une propriétée", nil, {}, true, {}, subPropertyBuilder)
                RageUI.Button("Liste des propriétées", nil, {}, true, {}, subPropertyEditor)
                RageUI.Button("Liste des clients", nil, {}, true, {}, subClientEditor)
            end)

            RageUI.IsVisible(subPropertyEditor, function()
                for k,v in pairs(propertylist) do
                    RageUI.Button(("%s"):format(v.name), nil, {RightLabel = "→"}, true, {
                        onSelected = function()
                            propertySelected = v
                        end
                    }, actionProperty)
                end
            end)

            RageUI.IsVisible(actionProperty, function()
                if (propertySelected ~= nil) then
                    RageUI.Button("Nom : "..propertySelected.name, nil, {}, true, {})
                    RageUI.Button("TP : "..propertySelected.name, nil, {}, true, {
                        onSelected = function()
                            SetEntityCoords(PlayerPedId(), vector3(json.decode(propertySelected.positionOutside).x, json.decode(propertySelected.positionOutside).y, json.decode(propertySelected.positionOutside).z))
                        end
                    })
                    RageUI.Button("Prix : "..propertySelected.price.."$", nil, {}, true, {})
                    RageUI.Line()
                    RageUI.Button("Attribuer la propriété", nil, {RightLabel = ">>"}, true, {
                        onSelected = function()
                            local player, distance = _FrameworkClient_Function.getClosestPlayer()
                            if (player ~= -1) and (distance ~= nil and distance > 3) then
                                _FrameworkClient.ToServer("giveProperty", GetPlayerServerId(player), propertySelected.id, propertySelected.price)
                            else
                                _FrameworkClient_Function.Notification("Aucun joueur à proximité")
                            end
                        end
                    })
                    RageUI.Button("Attribuer la propriété en location", nil, {RightLabel = ">>"}, true, {
                        onSelected = function()
                            local player, distance = _FrameworkClient_Function.getClosestPlayer()
                            if (player ~= -1) and (distance ~= nil and distance > 3) then
                                _FrameworkClient.ToServer("giveRentProperty", GetPlayerServerId(player), propertySelected.id, propertySelected.price)
                            else
                                _FrameworkClient_Function.Notification("Aucun joueur à proximité")
                            end
                        end
                    })
                    RageUI.Button("Attribuer la propriété pour sois même", nil, {RightLabel = ">>"}, true, {
                        onSelected = function()
                            RedFW.Shared.Event:triggerServerEvent("property:give", GetPlayerServerId(PlayerId()), propertySelected.id, propertySelected.price)
                        end
                    })
                    RageUI.Line()
                    RageUI.Button("Supprimer la propriétée", nil, {RightLabel = ">>"}, true, {
                        onSelected = function()

                        end
                    })
                end
            end)

            RageUI.IsVisible(subClientEditor, function()
                RageUI.Button("Recherche: ", nil, {RightLabel = clientFilter}, true, {
                    onSelected = function()

                    end
                })
                RageUI.Line()
                if clientFilter == "Aucun" then
                    for k,v in pairs({}) do
                        RageUI.Button(("[~b~%s~s~] | ~b~%s~s~"):format(v.id, v.name), nil, {RightLabel = "→"}, true, {
                            onSelected = function()

                            end
                        })
                    end
                else
                    for k,v in pairs({}) do
                        if starts(v.name:lower(), filterArray[filter]:lower()) then
                            RageUI.Button(("[~b~%s~s~] | ~b~%s~s~"):format(v.id, v.name), nil, {RightLabel = "→"}, true, {
                                onSelected = function()

                                end
                            })
                        end
                    end
                end
            end)

            RageUI.IsVisible(subPropertyBuilder, function()
                RageUI.Button(('Nom : (%s)'):format(PropertyData.name), nil, { RightLabel = ('~b~Éxecuter~s~')}, true, {
                    onSelected = function()
                        local coords = GetEntityCoords(PlayerPedId());
                        local zone = GetNameOfZone(coords.x, coords.y, coords.z);
                        local zoneLabel = GetLabelText(zone);
                        local number = math.random(1, 99999)
                        PropertyData.name = ("%s %s"):format(zoneLabel, number)
                    end
                });
                RageUI.Button(('Position d\'entrer : (%s)'):format(PropertyData.pPosValide), nil, { RightLabel = ('~b~Éxecuter~s~') }, true, {
                    onSelected = function()
                        local posIn = GetEntityCoords(PlayerPedId())
                        if posIn ~= nil and posIn ~= "" then
                            PropertyData.pPos = json.encode(posIn)
                            PropertyData.pPosValide = "Enregistré"
                        end
                    end
                });
                RageUI.Button('Type de propriété', nil, {RightLabel = ">>"}, true, {}, subMenu);
                RageUI.Checkbox("Mettre un garage", nil, activeGarage, {}, {
                    onChecked = function()
                        activeGarage = true
                    end,
                    onUnChecked = function()
                        activeGarage = false
                    end
                })
                if activeGarage then
                    RageUI.List("Type de garage", {"2place", "4place", "6place", "10place", "11place", "12place", "24place", "94place"}, PropertyData.indexGarage, nil, {}, true, {
                        onListChange = function(Index, Item)
                            PropertyData.indexGarage = Index
                            PropertyData.posInGarage = json.encode(_PropertyConfigurations.garagesLists[Item].Entering)
                            PropertyData.places = #_PropertyConfigurations.garagesLists[Item].CarSpots
                        end
                    });
                    RageUI.Button(('Position d\'entrer du garage : (%s)'):format(PropertyData.pPosGarage), nil, { RightLabel = ('~b~Éxecuter~s~') }, true, {
                        onSelected = function()
                            local posIn = GetEntityCoords(PlayerPedId())
                            if posIn ~= nil and posIn ~= "" then
                                PropertyData.pPosGarage = json.encode(posIn)
                            end
                        end
                    });
                end
                RageUI.Button('Validé vos choix', nil, { Color = { HightLightColor = { 0, 255, 0, 150 }, BackgroundColor = { 0, 255, 0, 160 }}, RightBadge = RageUI.BadgeStyle.Tick}, true, {
                    onSelected = function()
                        if not activeGarage then
                            PropertyData.pGarage = ""
                            PropertyData.pPosGarage = ""
                            PropertyData.places = 0
                        elseif PropertyData.places == 0 then
                            PropertyData.posInGarage = json.encode(_PropertyConfigurations.garagesLists["2place"].Entering)
                            PropertyData.places = #_PropertyConfigurations.garagesLists["2place"].CarSpots
                        end

                        if PropertyData.name ~= "" and PropertyData.price ~= "" and PropertyData.pPos ~= "" then
                            RedFW.Shared.Event:triggerServerEvent("property:build", PropertyData.name, PropertyData.pPos, PropertyData.posInProperty, PropertyData.pPosGarage, PropertyData.posInGarage, PropertyData.places, PropertyData.price, PropertyData.posChest)
                            PropertyData = {
                                name = "",
                                pPos = "",
                                pGarage = "",
                                type_property = {
                                    index = 1,
                                },
                                pPosValide = "Non Valide",
                                indexGarage = 1,
                                places = 0,
                                pPosGarage = '',
                            }
                            activeGarage = false
                            RageUI.CloseAll()
                            active = false
                        else
                            _FrameworkClient_Function.Notification("Veuillez remplir tout les champs !")
                        end
                    end
                })
            end)

            RageUI.IsVisible(subMenu, function()
                for k, v in pairs(_PropertyConfigurations.type_property) do
                    RageUI.Button(k, nil, {RightLabel = ('~g~%s$'):format(_PropertyConfigurations.type_property[k].price)}, true, {
                        onSelected = function()
                            PropertyData.posInProperty = json.encode(_PropertyConfigurations.type_property[k].posIn)
                            PropertyData.posChest = json.encode(_PropertyConfigurations.type_property[k].posChest)
                            PropertyData.posConfig = json.encode(_PropertyConfigurations.type_property[k].posConfig)
                            PropertyData.defaultWeight = _PropertyConfigurations.type_property[k].defaultWeight
                            PropertyData.price = _PropertyConfigurations.type_property[k].price
                        end
                    })
                end
            end)

            Wait(0)
        end
    end)
end

RedFW.Shared.Event:registerEvent("openJobMenu", function()
    if RedFW.Client.Components.Player.job.name == "immobilier" then
        showF6Menu()
    end
end)